!function(){function t(t,e,n){e?"function"!=typeof Date.prototype[t]?Date.prototype[t]=n:console&&console.log("extend method "+t+"has already exists"):"function"!=typeof Date[t]&&(Date[t]=n)}function e(t,e){if(!(t&&t instanceof Date))throw"error date2";var n=this.getTime(),s=t.getTime();e||(e="d.H:mm:ss");var r=parseInt((s-n)/864e5),a=(s-n)%864e5,i=parseInt(a/36e5),o=a%36e5,u=parseInt(o/6e4),c=o%6e4,h=parseInt(c/1e3),f={"d+":r,"H+":i,"m+":u,"s+":h};for(var g in f)new RegExp("("+g+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?f[g]:("00"+f[g]).substr((""+f[g]).length)));return e.replace(/^(0+[^\d]+)+/,"")}function n(t){if(!t)return this.toString();var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),f:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}function s(t){var e=this.getTime()+t;return new Date(e)}function r(t){return this.addMilliseconds(1e3*t)}function a(t){return this.addSeconds(60*t)}function i(t){return this.addMinutes(60*t)}function o(t){return this.addHours(24*t)}function u(t){var e=t%12,n=parseInt(t/12),s=this,r=s.getFullYear()+n,a=e+s.getMonth()+1;a>12?(r++,a-=12):a<1&&(r--,a=12+a),a-=1;var i=this.getDate(),o=Date.prototype.theLastDayOfMonth(new Date(r,a,1));o<i&&(i=o);var u=new Date(r,a,i,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds());return u}function c(t){return new Date(this.getFullYear()+t,this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())}function h(t){return t||(t=this.getFullYear()),t%100===0?t%400===0:t%4===0}function f(t){var e,n;switch(t||(t=this),e=this.getMonth()+1,n=this.getDate(),e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31===n;case 4:case 6:case 9:case 11:return 30===n;case 2:return t.isLeapYear()?29===n:28===n;default:throw"error month"}}function g(t){t||(t=this);var e=t.getMonth()+1;switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return t.isLeapYear()?29:28;default:throw"error month"}}t("diff",!0,function(t,n){return e(t,n)}),t("format",!0,function(t){return n(t)}),t("addMilliseconds",!0,function(t){return s(t)}),t("addSeconds",!0,function(t){return r(t)}),t("addMinutes",!0,function(t){return a(t)}),t("addHours",!0,function(t){return i(t)}),t("addDays",!0,function(t){return o(t)}),t("addMonths",!0,function(t){return u(t)}),t("addYears",!0,function(t){return c(t)}),t("isLeapYear",!0,function(t){return h(t)}),t("isTheLastDayOfMonth",!0,function(t){return f(t)}),t("theLastDayOfMonth",!0,function(t){return g(t)})}();